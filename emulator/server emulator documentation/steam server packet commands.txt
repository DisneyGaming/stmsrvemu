All servers commands:

Command:
	connect and verify protocol
send to server:
	(unknown)
expected response:
	(notsure, 0 = success?), if no response, protocol version not supported by <server type>


2003-04 Auth Server packets and responses

Command:
	(authenticate) and request tgt (part 1)
Send to server:
	0x02
	rsa encrypted aes sessionkey with payload
Expected Response:
	0 = success + record, 1 = account or user does not exist
	2 and 3 = clock skew error or preauthentication error , 4 = account is disabled	
	> 4 = unknown error	

Command:
	authenticate and (request tgt) (part 2)
Send to server:
	(unknown)
	rsa encrypted aes sessionkey with payload
Expected Response:
	0 = success + client ticket in record and clockskew which needs to be < 0x11E1A300
	or it will create a clock skew exception

Command:
	change email address
send to server:
	0x12 +tgt +authenticator +payload
Expected Response:
0 = success and/or record, > 0 = unknown error
	
Command:
	change password
send to server:
	0x10 +tgt +authenticator +payload	
Expected Response:
0 = success , 1 = incorrect current password, > 1 = unknown error

Command:
	change question
send to server:
	0x11 +tgt +authenticator +payload
Expected Response:
	0 = success, 1 = incorrect password, > 1 = unknown error

Command:	
	change account name
send to server:
	0x1C +tgt +authenticator +payload
Expected Response:
	0 = success , 2 = name in use, 1 or > 2 = unknown error

Command:	
	change forgot password
send to server:
	(unknown command)
	rsa encrypted, aes session key and raw payload
Expected Response:
	0 = success, 1 = user/account does not exist, 2 = incorrect email address verification key
	3 = incorrect answer to personal question, > 3 unknown error

Command:	
	request forgot password email
send to server:
	(unknown command)
	rsa encrypted, aes session key and raw payload
Expected Response:
	0 = success, 2 = account or user does not exist, 1 or > 2 unknown error

Command:	
	Lookup account name by email
send to server:
	0x20 <--**May be wrong, from csmania server code**
	rsa encrypted, aes session key and raw payload
Expected Response:
	encrypted account names as record/blob

Command:	
	Generate suggested name
send to server:
	(unknown command)
	rsa encrypted, aes session key and raw payload
Expected Response:
	encrypted account names as record/blob

Command:	
	query account name already in use / 'check login'
send to server:
	0x1D
	rsa encrypted, aes session key and raw payload
Expected Response:
	0 = success +account name?, > 1 unknown error

Command:	
	create new account
send to server:
	0x01
	rsa encrypted, aes session key and raw payload
Expected Response:
	0 = success +record, 1 = account name already in use, > 1 unknown error

Command:
	logout
Send to server:
	0x04 +tgt +authenticator +payload
Expected Response:
	None

Command:
	Delete Account
Send to server:
	0x03 +tgt +authenticator +payload
Expected Response:
	None

Command:
	Request Verification Email
Send to server:
	0x14 +tgt +authenticator +payload
Expected Response:
	None

Command:
	Update Account Billing Info
Send to server:
	0x15 +tgt +authenticator +payload = (AddPaymentCardInfoFieldsToAccountPaymentCardInfoRecord)
Expected Response:
	None, expected to succeed

Command:
	Update Subscription Billing Info
Send to server:
	0x16 +tgt +authenticator +payload = (ConstructSubscriptionBillingInfoRecordFromSteamSubscriptionBillingInfo)
Expected Response:
	None, expected to succeed

Command:
	Query Subscription Rate exceeded
Send to server:
	(unknown)
Expected Response:
	(unknown)

Command:
	Subscribe
Send to server:
	0x05 +tgt +authenticator +payload (payload being SubscriptionBillingInfoRecordFromSteamSubscriptionBillingInfo)
Expected Response:
		0 = success and Record or 1 = subscription rate limit exceeded or 2 = unverified email or > 2 unknown

Command:
	Unsubscribe
Send to server:
	0x06 +tgt +authenticator +payload
Expected Response:
	0 = success and Record or > 0 unknown

Command:
	Get Account Info
Send to server:
	0x09 +tgt +authenticator +payload
Expected Response:
	0 = success and Record or > 0 unknown

Command:
	Verify Email
Send to server:
	0x13 +tgt +authenticator +payload
Expected Response:
0 = success and Record or 1 = incorrect email verification key or >1 unknown	

Command:
	Verify Protocol and receive client external ip	
Send to server:
	(unknown)
Expected Response:
	0 = success, 1 = protocol out of date, 2 = auth server not master (removes auth server from list)
	> 2 = unknown


ticket granting server (auth server..?) commands:

Command:
	Request Content Ticket
Send to server:
	0xA0 +tgt +authenticator +payload
Expected Response:
	0 = success + content ticket


unknown server used commands:

Command:
	'internal' get encrypted userid ticket to send to appserver
Send to server:
	0xC0 +tga +authenticator with payload
Expected Response:
	(unknown)


Directory Server Commands:
(Family: 0x00000003)
Command:
	find master client authentication servers
Send to server:
	0x00
Expected Response:
	ip's or unknown error

Command:
	Find master administration authentication server 
Send to server:
	0x01
Expected Response:
	ip's or unknown error

Command:
	find master administration billing bridge server
Send to server:
	0x11
Expected Response:
	ip's or unknown error

Command:
	find master administration config administration server
Send to server:
	0x02
Expected Response:
	ip's or unknown error
	
Command:
	find master global transaction manager server
Send to server:
	0x08
Expected Response:
	ip's or unknown error

Command:
	find master administration log processing administration server
Send to server:
	0x16
Expected Response:
	ip's or unknown error

Command:
	find all client authentication server's
	**virtual steam server note: account retrieve server address**
Send to server:
	0x12
Expected Response:
	ip's or unknown error

Command:
	find all administration authentication server's
Send to server:
	0x13
Expected Response:
	ip's or unknown error
	
Command:
	find all client configuration servers
Send to server:
	0x03
Expected Response:
	ip's or unknown error	

Command:
	find all server configuration servers
Send to server:
	0x04
Expected Response:
	ip's or unknown error	

Command:
	find all system status server's
Send to server:
	0x09
Expected Response:
	ip's or unknown error	

Command:
	find all remote file harvest servers
Send to server:
	0xA0
Expected Response:
	ip's or unknown error	

Command:
	find all CSDS Content Server
Send to server:
	0x05
Expected Response:
	ip's or unknown error	

Command:
	find all CSDS find content servers (??)
Send to server:
	0x06
Expected Response:
	ip's or unknown error	

Command:
	Find all VCDS Validation (New valve cdkey Authentication)
Send to server:
	0xB0
Expected Response:
	ip's or unknown error	

Command:
	find all hl master server's
Send to server:
	0x0F
Expected Response:
	ip's or unknown error	

Command:
	Find all Friends Server's
Send to server:
	0x10
Expected Response:
	ip's or unknown error	

Command:
	find all MCS Content Administration Server's
Send to server:
	0xC0
Expected Response:
	ip's or unknown error	

Command:
	Find all MCS Master Public Content Server's
Send to server:
	0xD0
Expected Response:
	ip's or unknown error	

Command:
	Find All MCS Master Client Content Server's
Send to server:
	0xE0
Expected Response:
	ip's or unknown error	

Command:
	Find all CSER Server's
Send to server:
	0x14
Expected Response:
	ip's or unknown error	

Command:
	Find all Log Processing Server's
Send to server:
	0x15
Expected Response:
	ip's or unknown error	


Content server directory Server Packets:

(Family: 0x00000002)
Command:
	find best public content server's	
Send to server:
	0x03
Expected Response:
	ip's or unknown error	

Command:
	find all public content server's
Send to server:
	0x0000
Expected Response:
	ip's or unknown error	

Command:
	find public content server's with appid
Send to server:
	0x0001
Expected Response:
	ip's or unknown error	


public content server commands:
CONTENT SERVER STORAGE MODE (Family: 0x00000007)
Command:
	get banner
Send to Server
	0x00
Expected Response:
	**only if first time client used command since login**
	packet: 'Banner URL: "<http://example.com/banner.png>"\0'
	otherwise no response? <--**taken from virtual steam server**

Command:
	get cellid
Send to server:
0x01 **currently unsure**
Expected Response:
(unknown)

Command:
	get CDR
Send to server:
	0x02
Expected Response:
(unknown)

Command:
	Open App 'open cache'
Send to server:
	0x09
Expected Response:
(unknown)

Command:
	Open App with ticket 'open cache extended'
Send to server:
	0x0A
Expected Response:
(unknown)

Command:
	close cache
Send to server:
	0x03
Expected Response:
(unknown)

Command:
	get directory 'get/read manifest'
Send to server:
	0x04
Expected Response:
(unknown)

Command:
	get update  aka 'read version change fileid purgelist'/'get list update files'
	**from VSS**
Send to server:
	0x05
Expected Response:
(unknown)

Command:
	get file signature verification aka 'read file checksum table'
Send to server:
	0x06 
Expected Response:
(unknown)

Command:
	get file aka 'read file'
Send to server:
	0x07
Expected Response:
(unknown)

CONTENT SERVER PACKAGE MODE (Family: 0x00000003):
Command:
	get public content file (from hlds update tool)
Send to server:
	0x00
Expected Response:
(unknown)

Command:
	Open first file	
Send to server:
	0x02
Expected Response:
(unknown)

Command:
	Close file or connection
Send to server:
	0x03
Expected Response:
(unknown)

config server commands:

Command:
	get client config / version blob
	i.e. first blob request
Send to server:
0x01
Expected Response:
	refer to first/second blob thread on discord for this packet.

Command:
	request latest contentdescriptioncb
Send to server:
	0x02	
Expected Response:
	cdr blob size as 4 bytes followed by the cdr blob	
Command:
	update CDR
	**from old steamserver emu from csmania**
Send to server:
	0x09
Expected Response:
"\x00\x00\x00\x01\x31\x2d\x00\x00\x00\x01\x2c" + 4 byte size of cdr + cdr blob

Command:
	get steam instance rsa public key
Send to server:
	0x04
Expected Response:
2 byte header size + "\x30\x81\x9d\x30\x0d\x06\x09\x2a\x86\x48\x86\xf7\x0d\x01\x01\x01\x05\x00\x03\x81\x8b\x00\x30\x81\x87\x02\x81\x81\x00"
+ 	
4byte size
(key header = {networkey header length + key + 3 bytes}) + 29 null bytes + networkkey+\x02\x01\x11


****Note: these are from virtual steam server 
and I believe that these are incorrect for this server and belong with public content server**

Command:
	(Unknown)
	**From virtual steam server**
Send to Server:
	0x05
Response:
	0 = successful, > 0 = unknown?

Command:
	(Unknown)
	**From virtual steam server**
Send to Server:
	0x06
Response:
	0 = successful, > 0 = unknown?

Command:
	(Unknown)
	**From virtual steam server**
Send to Server:
	0x07
Response:
	\x00\x01\x31\x2d\x00\x00\x00\x01\x2c

***end virtual steam server only packets***


2005 general directory server commands:

Command:
	find all BRS server's
Send to server:
	0x1D
Expected Response:
	ip's or unknown error	

Command:
	find  all CSER Administration server's
Send to server:
	0x17
Expected Response:
	ip's or unknown error	

Command:
	find all hl2master server's
Send to server:
	0x18
Expected Response:
	ip's or unknown error	

Command:
	find all VTS Administration server
Send to server:
	0x1B
Expected Response:
	ip's or unknown error	

Command:
	find all validate user id ticket servers
Send to server:
	0x07
Expected Response:
	ip's or unknown error	

Command:
	find proxy client authentication server's
Send to server:
	**this function just redirects to the find all client authentication server commands**
Expected Response:
	ip's or unknown error	

Command:
	find slave client authentication server's
**virtual steam server note:
	// seems 2 master auth server too with content server first**
Send to server:
	0x1c
Expected Response:
	ip's or unknown error	

Command:
	find ragdoll kungfu master servers **found in virtual steam server**
Send to server:
	0x1E
Expected Response:
	ip's or unknown error	


2005 Authentication server commands:

Command:
	Acknowledge subscription receipt
Send to server:
	0x23 +tgt + authenticator with payload
Expected Response:
	none, expected to succeed

Command:
	Get account info
Send to server:
	0x09 +tgt +authenticator with payload
Expected Response:
	0 = success + record, > 0 = unknown error

Command:
	get number of accounts with this email
Send to server:
	(unknown command code) 
	rsa encrypted aes sessionkey and payload
Expected Response:
 0 or 1 = success (maybe 1 means no accounts found using this email), > 2 = unknown error

Command:
	Request account name by cdkey
Send to server:
	(unknown command code) 
	rsa encrypted aes sessionkey and payload
Expected Response:
	(unknown  qhat client expects for success), > 0 = unknown error	


Content Server Directory Server commands:

Command:
	find all content server control status server's
Send to server:
	(unknown)
Expected Response:
	(unknown)	

Command:
	find all public content server's
Send to server:
	(unknown)
Expected Response:
	(unknown)	

Command:
	find best client content server
Send to server:
	(unknown)
Expected Response:
	(unknown)	

Command:
	find best public content server
Send to server:
	(unknown)
Expected Response:
	(unknown)	

Command:
	find content server control status server
Send to server:
	(unknown)
Expected Response:
	(unknown)
		
config server commands:	

Command:
	get current auth failsafe mode
Send to server:
	(unknown)
Expected Response:
	(unknown)
	
Command:
get current billing failsafe mode
Send to server:
	(unknown)
Expected Response:
	(unknown)
	
Command:
	get current content failsafe mode
Send to server:
	(unknown)
Expected Response:
	(unknown)
	
Command:
	get current steam3 login percent
Send to server:
	(unknown)
Expected Response:
	(unknown)	

Command:
	request latest contentdescriptioncb
Send to server:
	(unknown)
Expected Response:
	(unknown)	
